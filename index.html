<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ö–∞—Å—Å–∞ –ü—è—Ç—ë—Ä–∫–∞</title>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-database-compat.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.6/dist/JsBarcode.all.min.js"></script>
  <style>
    * { box-sizing: border-box; font-family: Arial, sans-serif; }
    body { padding: 15px; max-width: 600px; margin: 0 auto; background: #f9f9f9; }
    h1, h2, h3 { text-align: center; color: #2c3e50; }
    button {
      width: 100%; padding: 12px; margin: 6px 0; border: none; border-radius: 6px;
      background: #3498db; color: white; font-size: 15px; cursor: pointer;
    }
    .btn-secondary { background: #95a5a6; }
    .btn-success { background: #2ecc71; }
    .btn-danger { background: #e74c3c; }
    button:hover { opacity: 0.9; }
    input, select {
      width: 100%; padding: 12px; margin: 6px 0; border: 1px solid #ccc; border-radius: 4px;
    }
    .hidden { display: none; }
    .receipt, .archive-item, .barcode-print-area {
      background: white; padding: 15px; margin: 15px 0; border-radius: 8px;
    }
    #barcode-svg { width: 100%; height: auto; margin: 15px 0; }
    label { display: block; margin-top: 10px; font-weight: bold; }
    @media print {
      body * { display: none; }
      .barcode-print-area, .barcode-print-area * { display: block !important; }
    }
    #hidden-input {
      position: absolute;
      left: -9999px;
      opacity: 0;
    }
  </style>
</head>
<body>

<!-- –≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞ -->
<div id="screen-login">
  <h2>–ö–∞—Å—Å–∞ ¬´–ü—è—Ç—ë—Ä–∫–∞¬ª</h2>
  <form id="loginForm">
    <input type="password" id="password" placeholder="–ü–∞—Ä–æ–ª—å" autocomplete="off" />
    <button type="submit">–í–æ–π—Ç–∏</button>
  </form>
</div>

<!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
<div id="screen-dashboard" class="hidden">
  <h1>–ö–∞—Å—Å–∞ ¬´–ü—è—Ç—ë—Ä–∫–∞¬ª</h1>
  <p style="text-align:center; color:#7f8c8d;">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:<br>Shift ‚Äî —Ä—É—á–Ω–æ–π –≤–≤–æ–¥<br>Ctrl ‚Äî —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ<br>F2 ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —à—Ç—Ä–∏—Ö–∫–æ–¥–æ–≤</p>
  <button id="btn-archive">üìÇ –ê—Ä—Ö–∏–≤ –ø–æ–∫—É–ø–æ–∫</button>
  <button id="btn-logout">üîê –í—ã–π—Ç–∏</button>
</div>

<!-- –°–∫—Ä—ã—Ç—ã–π —Ä–µ–∂–∏–º —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è -->
<div id="screen-scan" class="hidden">
  <h2>–û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ —Ç–æ–≤–∞—Ä—ã</h2>
  <input type="text" id="hidden-input" autocomplete="off" />
  <div id="scanned-items" style="min-height: 100px; background: white; padding: 10px; border-radius: 6px; margin: 10px 0;"></div>
</div>

<!-- –†—É—á–Ω–æ–π –≤–≤–æ–¥ -->
<div id="screen-manual" class="hidden">
  <h2>–†—É—á–Ω–æ–π –≤–≤–æ–¥ —à—Ç—Ä–∏—Ö–∫–æ–¥–∞</h2>
  <input type="text" id="manual-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —à—Ç—Ä–∏—Ö–∫–æ–¥" autocomplete="off" />
  <button id="btn-add-manual">‚ûï –î–æ–±–∞–≤–∏—Ç—å</button>
  <div id="manual-items" style="min-height: 100px; background: white; padding: 10px; border-radius: 6px; margin: 10px 0;"></div>
</div>

<!-- –õ–æ—è–ª—å–Ω–æ—Å—Ç—å -->
<div id="screen-loyalty" class="hidden">
  <h2>–ü—Ä–æ–≥—Ä–∞–º–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏</h2>
  <button id="btn-has-card">‚úÖ –£ –º–µ–Ω—è –µ—Å—Ç—å –∫–∞—Ä—Ç–∞</button>
  <button id="btn-no-card">üÜï –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ä—Ç—É</button>
  <button id="btn-skip-loyalty" class="btn-secondary">‚è≠Ô∏è –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å</button>
</div>

<!-- –í–≤–æ–¥ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ -->
<div id="screen-enter-phone" class="hidden">
  <h2>–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</h2>
  <input type="tel" id="phone-input" placeholder="+7 (999) 123-45-67" />
  <button id="btn-continue-with-phone">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
</div>

<!-- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è -->
<div id="screen-register-card" class="hidden">
  <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–∞—Ä—Ç—ã</h2>
  <input type="text" id="reg-fio" placeholder="–§–ò–û" />
  <input type="tel" id="reg-phone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω" />
  <label>–õ—é–±–∏–º—ã–π –ø—Ä–æ–¥—É–∫—Ç (5% –±–æ–Ω—É—Å–æ–≤):</label>
  <select id="fav-product-single" style="height: 200px;"></select>
  <button id="btn-register-card">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å</button>
</div>

<!-- –û–ø–ª–∞—Ç–∞ -->
<div id="screen-checkout" class="hidden">
  <h2>–û–ø–ª–∞—Ç–∞</h2>
  <div id="cart-items"></div>
  <h3>–ò—Ç–æ–≥–æ: <span id="total">0.00</span> ‚ÇΩ</h3>
  <div id="bonus-info" class="hidden">
    <p>–ë–æ–Ω—É—Å—ã: <span id="user-bonus">0</span> ‚ÇΩ</p>
    <input type="number" id="use-bonus" placeholder="–°–ø–∏—Å–∞—Ç—å –±–æ–Ω—É—Å—ã (1 = 1 ‚ÇΩ)" min="0" />
  </div>
  <button id="btn-pay-cash">üíµ –ù–∞–ª–∏—á–Ω—ã–º–∏</button>
  <button id="btn-pay-card">üí≥ –ö–∞—Ä—Ç–æ–π</button>
</div>

<!-- –ù–∞–ª–∏—á–Ω—ã–µ -->
<div id="screen-cash" class="hidden">
  <h2>–ù–∞–ª–∏—á–Ω—ã–µ</h2>
  <input type="number" id="cash-given" placeholder="–°–∫–æ–ª—å–∫–æ –¥–∞–ª –ø–æ–∫—É–ø–∞—Ç–µ–ª—å?" step="0.01" />
  <p id="change-info"></p>
  <button id="btn-complete-cash">‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å</button>
</div>

<!-- –ö–∞—Ä—Ç–∞ -->
<div id="screen-card" class="hidden">
  <h2>–û–ø–ª–∞—Ç–∞ –∫–∞—Ä—Ç–æ–π</h2>
  <p>–°—É–º–º–∞: <span id="card-total">0.00</span> ‚ÇΩ</p>
  <p style="color:#e74c3c;">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –æ–ø–ª–∞—Ç—É</p>
  <button id="btn-confirm-card" class="btn-success">‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
</div>

<!-- –ê—Ä—Ö–∏–≤ -->
<div id="screen-archive" class="hidden">
  <h2>–ê—Ä—Ö–∏–≤ –ø–æ–∫—É–ø–æ–∫</h2>
  <button id="back-from-archive">‚Üê –ù–∞–∑–∞–¥</button>
  <div id="archive-list"></div>
</div>

<!-- –ß–µ–∫ -->
<div id="screen-receipt" class="hidden">
  <div class="receipt" id="receipt-content"></div>
  <button id="btn-new-sale">‚ûï –ù–æ–≤–∞—è –ø—Ä–æ–¥–∞–∂–∞</button>
</div>

<!-- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è -->
<div id="screen-generate" class="hidden">
  <h2>–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —à—Ç—Ä–∏—Ö–∫–æ–¥–∞</h2>
  <div id="product-list" style="max-height: 300px; overflow-y: auto;"></div>
  <div id="generated-barcode" class="hidden">
    <svg id="barcode-svg"></svg>
    <p id="barcode-text"></p>
  </div>
  <button id="back-from-generate">‚Üê –ù–∞–∑–∞–¥</button>
</div>

<!-- –ü–µ—á–∞—Ç—å —à—Ç—Ä–∏—Ö–∫–æ–¥–∞ -->
<div id="print-area" class="hidden">
  <div class="barcode-print-area">
    <h3 style="text-align:center">–®—Ç—Ä–∏—Ö–∫–æ–¥</h3>
    <svg id="print-barcode-svg" style="width:100%; height:auto;"></svg>
    <p id="print-barcode-text" style="text-align:center; font-size:18px;"></p>
  </div>
</div>

<script>
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
const ACCESS_PASSWORD = '0506';
const CASHIER_NAME = '–§—Ä–æ–ª–æ–≤ –Æ—Ä–∏–π –ú–∏—Ö–∞–π–ª–æ–≤–∏—á';
const INN = '0109764890';
const DATABASE_URL = 'https://renessans-bank-3df94-default-rtdb.europe-west1.firebasedatabase.app/';
const BONUS_RATE_REGULAR = 0.02;
const BONUS_RATE_FAVORITE = 0.05;

// ~~~~~~~~~~~~~~~~~~~~~ 1000+ –¢–û–í–ê–†–û–í ~~~~~~~~~~~~~~~~~~~~~~~~
const PRODUCTS = [
{name:"–ú–æ–ª–æ–∫–æ 1–ª",price:119.90},{name:"–•–ª–µ–± –±–µ–ª—ã–π",price:64.50},{name:"–Ø–π—Ü–∞ 10 —à—Ç",price:149.00},
{name:"–°—ã—Ä 200–≥",price:249.90},{name:"–ö–æ–ª–∞ 0.5–ª",price:89.00},{name:"–®–æ–∫–æ–ª–∞–¥",price:95.50},
{name:"–ú–∞—Å–ª–æ —Å–ª–∏–≤–æ—á–Ω–æ–µ",price:189.00},{name:"–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å 1–∫–≥",price:45.00},{name:"–°–∞—Ö–∞—Ä 1–∫–≥",price:79.90},
{name:"–ß–∞–π —á–µ—Ä–Ω—ã–π",price:210.00},{name:"–†–∏—Å 1–∫–≥",price:120.00},{name:"–ö–æ—Ñ–µ —Ä–∞—Å—Ç–≤–æ—Ä–∏–º—ã–π",price:350.00},
{name:"–ü–µ—á–µ–Ω—å–µ",price:85.00},{name:"–°–æ–∫ 1–ª",price:130.00},{name:"–ú–∞–∫–∞—Ä–æ–Ω—ã",price:65.00},
{name:"–ö–µ—Ç—á—É–ø",price:110.00},{name:"–ú–∞–π–æ–Ω–µ–∑",price:125.00},{name:"–°–∞–ª—Ñ–µ—Ç–∫–∏",price:40.00},
{name:"–ó—É–±–Ω–∞—è –ø–∞—Å—Ç–∞",price:160.00},{name:"–®–∞–º–ø—É–Ω—å",price:290.00},{name:"–í–æ–¥–∞ 1.5–ª",price:55.00},
{name:"–ü–µ–ª—å–º–µ–Ω–∏",price:220.00},{name:"–°–º–µ—Ç–∞–Ω–∞ 200–≥",price:99.00},{name:"–¢–≤–æ—Ä–æ–≥ 500–≥",price:180.00},
{name:"–ö–µ—Ñ–∏—Ä 1–ª",price:85.00},{name:"–°–æ—Å–∏—Å–∫–∏",price:190.00},{name:"–ì—Ä–µ—á–∫–∞ 1–∫–≥",price:95.00},
{name:"–û–≤—Å—è–Ω–∫–∞",price:110.00},{name:"–ü–µ—á–µ–Ω—å–µ –æ–≤—Å—è–Ω–æ–µ",price:75.00},{name:"–°–≥—É—â—ë–Ω–∫–∞",price:130.00},
{name:"–ö–∞–∫–∞–æ",price:160.00},{name:"–ú—ë–¥ 500–≥",price:450.00},{name:"–û–ª–∏–≤–∫–æ–≤–æ–µ –º–∞—Å–ª–æ",price:590.00},
{name:"–£–∫—Å—É—Å",price:60.00},{name:"–°–æ–¥–∞",price:25.00},{name:"–°–æ–ª—å",price:30.00},{name:"–ü–µ—Ä–µ—Ü",price:80.00},
{name:"–õ–∞–≤—Ä–æ–≤—ã–π –ª–∏—Å—Ç",price:45.00},{name:"–ß–µ—Å–Ω–æ–∫ 100–≥",price:35.00},{name:"–õ—É–∫ 1–∫–≥",price:40.00},
{name:"–ú–æ—Ä–∫–æ–≤—å 1–∫–≥",price:50.00},{name:"–ö–∞–ø—É—Å—Ç–∞",price:35.00},{name:"–°–≤—ë–∫–ª–∞",price:45.00},
{name:"–û–≥—É—Ä—Ü—ã 1–∫–≥",price:120.00},{name:"–ü–æ–º–∏–¥–æ—Ä—ã 1–∫–≥",price:180.00},{name:"–ë–∞–Ω–∞–Ω—ã 1–∫–≥",price:110.00},
{name:"–Ø–±–ª–æ–∫–∏ 1–∫–≥",price:95.00},{name:"–ê–ø–µ–ª—å—Å–∏–Ω—ã 1–∫–≥",price:130.00},{name:"–ú–∞–Ω–¥–∞—Ä–∏–Ω—ã 1–∫–≥",price:140.00},
{name:"–ì—Ä—É—à–∏ 1–∫–≥",price:120.00},{name:"–í–∏–Ω–æ–≥—Ä–∞–¥",price:220.00},{name:"–ö–∏–≤–∏",price:80.00},
{name:"–õ–∏–º–æ–Ω",price:30.00},{name:"–ê–≤–æ–∫–∞–¥–æ",price:150.00},{name:"–ê–Ω–∞–Ω–∞—Å",price:250.00},
{name:"–ú–∞–Ω–≥–æ",price:180.00},{name:"–ü–µ—Ä—Å–∏–∫–∏",price:160.00},{name:"–°–ª–∏–≤—ã",price:140.00},
{name:"–ö–ª—É–±–Ω–∏–∫–∞ 500–≥",price:300.00},{name:"–ú–∞–ª–∏–Ω–∞ 500–≥",price:350.00},{name:"–ß–µ—Ä–Ω–∏–∫–∞ 500–≥",price:400.00},
{name:"–ê—Ä–±—É–∑",price:80.00},{name:"–î—ã–Ω—è",price:120.00},{name:"–•–ª–µ–± —Ä–∂–∞–Ω–æ–π",price:70.00},
{name:"–ë–∞—Ç–æ–Ω",price:55.00},{name:"–ë—É–ª–æ—á–∫–∞",price:25.00},{name:"–ü–∏—Ä–æ–∂–Ω–æ–µ",price:120.00},
{name:"–¢–æ—Ä—Ç",price:450.00},{name:"–ú–æ—Ä–æ–∂–µ–Ω–æ–µ",price:90.00},{name:"–ô–æ–≥—É—Ä—Ç",price:65.00},
{name:"–†—è–∂–µ–Ω–∫–∞",price:75.00},{name:"–°—ã—Ä–æ–∫ —Ç–≤–æ—Ä–æ–∂–Ω—ã–π",price:45.00},{name:"–°–ª–∏–≤–∫–∏ 200–º–ª",price:110.00},
{name:"–°—ã—Ä –ø–ª–∞–≤–ª–µ–Ω—ã–π",price:130.00},{name:"–°—ã—Ä –º–æ—Ü–∞—Ä–µ–ª–ª–∞",price:280.00},{name:"–°—ã—Ä –ø–∞—Ä–º–µ–∑–∞–Ω",price:550.00},
{name:"–°—ã—Ä –±—Ä—ã–Ω–∑–∞",price:220.00},{name:"–°—ã—Ä —Ñ–µ—Ç–∞",price:260.00},{name:"–°—ã—Ä –≥–∞—É–¥–∞",price:320.00},
{name:"–ö–æ–ª–±–∞—Å–∞ –≤–∞—Ä–µ–Ω–∞—è",price:350.00},{name:"–ö–æ–ª–±–∞—Å–∞ —Å—ã—Ä–æ–∫–æ–ø—á–µ–Ω–∞—è",price:650.00},{name:"–°–∞–ª—è–º–∏",price:580.00},
{name:"–í–µ—Ç—á–∏–Ω–∞",price:420.00},{name:"–ü–∞—à—Ç–µ—Ç",price:180.00},{name:"–ü–µ–ª—å–º–µ–Ω–∏ –≥–æ–≤—è–∂—å–∏",price:240.00},
{name:"–ü–µ–ª—å–º–µ–Ω–∏ —Å–≤–∏–Ω—ã–µ",price:230.00},{name:"–•–∏–Ω–∫–∞–ª–∏",price:280.00},{name:"–í–∞—Ä–µ–Ω–∏–∫–∏",price:190.00},
{name:"–ü–µ–ª—å–º–µ–Ω–∏ —Å –≥—Ä–∏–±–∞–º–∏",price:210.00},{name:"–°—É–ø-–ø—é—Ä–µ",price:110.00},{name:"–ë—É–ª—å–æ–Ω –∫—É—Ä–∏–Ω—ã–π",price:90.00},
{name:"–ö—Ä—É–ø–∞ –ø–µ—Ä–ª–æ–≤–∞—è",price:85.00},{name:"–ü—à–µ–Ω–æ",price:70.00},{name:"–ú–∞–Ω–∫–∞",price:60.00},
{name:"–ö—É–∫—É—Ä—É–∑–Ω–∞—è –∫—Ä—É–ø–∞",price:95.00},{name:"–ß–µ—á–µ–≤–∏—Ü–∞",price:130.00},{name:"–§–∞—Å–æ–ª—å",price:120.00},
{name:"–ì–æ—Ä–æ—Ö",price:100.00},{name:"–ù—É—Ç",price:150.00},{name:"–ß–∏–ø—Å—ã",price:110.00},
{name:"–ü–æ–ø–∫–æ—Ä–Ω",price:95.00},{name:"–û—Ä–µ—Ö–∏ –≥—Ä–µ—Ü–∫–∏–µ",price:550.00},{name:"–ú–∏–Ω–¥–∞–ª—å",price:650.00},
{name:"–§—É–Ω–¥—É–∫",price:600.00},{name:"–ê—Ä–∞—Ö–∏—Å",price:220.00},{name:"–°–µ–º–µ—á–∫–∏",price:80.00},
{name:"–°—É—Ö–æ—Ñ—Ä—É–∫—Ç—ã",price:320.00},{name:"–ò–∑—é–º",price:280.00},{name:"–ö—É—Ä–∞–≥–∞",price:350.00},
{name:"–ß–µ—Ä–Ω–æ—Å–ª–∏–≤",price:300.00},{name:"–§–∏–Ω–∏–∫–∏",price:400.00},{name:"–ò–Ω–∂–∏—Ä",price:450.00},
{name:"–ú—é—Å–ª–∏",price:220.00},{name:"–ì—Ä–∞–Ω–æ–ª–∞",price:250.00},{name:"–ë–∞—Ç–æ–Ω—á–∏–∫ –º—é—Å–ª–∏",price:65.00},
{name:"–ü—Ä–æ—Ç–µ–∏–Ω–æ–≤—ã–π –±–∞—Ç–æ–Ω—á–∏–∫",price:120.00},{name:"–≠–Ω–µ—Ä–≥–µ—Ç–∏–∫",price:150.00},{name:"–õ–∏–º–æ–Ω–∞–¥",price:75.00},
{name:"–ö–≤–∞—Å",price:65.00},{name:"–ö–æ–º–ø–æ—Ç",price:85.00},{name:"–ú–∏–Ω–µ—Ä–∞–ª–∫–∞",price:50.00},
{name:"–ì–∞–∑–∏—Ä–æ–≤–∫–∞",price:70.00},{name:"–ü–∏–≤–æ 0.5–ª",price:120.00},{name:"–í–∏–Ω–æ –∫—Ä–∞—Å–Ω–æ–µ",price:450.00},
{name:"–í–∏–Ω–æ –±–µ–ª–æ–µ",price:420.00},{name:"–®–∞–º–ø–∞–Ω—Å–∫–æ–µ",price:650.00},{name:"–í–æ–¥–∫–∞",price:400.00},
{name:"–ö–æ–Ω—å—è–∫",price:850.00},{name:"–í–∏—Å–∫–∏",price:950.00},{name:"–†–æ–º",price:750.00},
{name:"–î–∂–∏–Ω",price:800.00},{name:"–õ–∏–∫—ë—Ä",price:550.00},{name:"–°–∏–¥—Ä",price:220.00},
{name:"–ü–∏–≤–æ –±–µ–∑–∞–ª–∫–æ–≥–æ–ª—å–Ω–æ–µ",price:100.00},{name:"–°–æ–∫ —è–±–ª–æ—á–Ω—ã–π",price:110.00},{name:"–°–æ–∫ –∞–ø–µ–ª—å—Å–∏–Ω–æ–≤—ã–π",price:120.00},
{name:"–°–æ–∫ —Ç–æ–º–∞—Ç–Ω—ã–π",price:130.00},{name:"–ù–µ–∫—Ç–∞—Ä –ø–µ—Ä—Å–∏–∫–æ–≤—ã–π",price:115.00},{name:"–ú–æ—Ä—Å",price:95.00},
{name:"–ö–∏—Å–µ–ª—å",price:70.00},{name:"–ñ–µ–ª–µ",price:60.00},{name:"–ü—É–¥–∏–Ω–≥",price:85.00},
{name:"–ö—Ä–µ–º-–±—Ä—é–ª–µ",price:180.00},{name:"–ß–∏–∑–∫–µ–π–∫",price:220.00},{name:"–≠–∫–ª–µ—Ä",price:90.00},
{name:"–ü—Ä–æ—Ñ–∏—Ç—Ä–æ–ª–∏",price:100.00},{name:"–ú–µ–¥–æ–≤–∏–∫",price:250.00},{name:"–ù–∞–ø–æ–ª–µ–æ–Ω",price:240.00},
{name:"–ë–∏—Å–∫–≤–∏—Ç",price:180.00},{name:"–ö–µ–∫—Å",price:120.00},{name:"–†—É–ª–µ—Ç",price:150.00},
{name:"–ü–æ–Ω—á–∏–∫–∏",price:70.00},{name:"–ë—É–±–ª–∏–∫–∏",price:40.00},{name:"–ë–∞—Ä–∞–Ω–∫–∏",price:35.00},
{name:"–°—É—à–∫–∏",price:30.00},{name:"–ü—Ä—è–Ω–∏–∫–∏",price:80.00},{name:"–ü–µ—á–µ–Ω—å–µ —é–±–∏–ª–µ–π–Ω–æ–µ",price:90.00},
{name:"–ü–µ—á–µ–Ω—å–µ –æ—Ä–µ—Ö–æ–≤–æ–µ",price:110.00},{name:"–ü–µ—á–µ–Ω—å–µ —Å –∏–∑—é–º–æ–º",price:100.00},{name:"–ö—Ä–µ–∫–µ—Ä—ã",price:85.00},
{name:"–ì–∞–ª–µ—Ç—ã",price:75.00},{name:"–°—É—Ö–∞—Ä–∏–∫–∏",price:60.00},{name:"–•–ª–µ–±—Ü—ã",price:120.00},
{name:"–°—ã—Ä–Ω—ã–µ –ø–∞–ª–æ—á–∫–∏",price:95.00},{name:"–ö—É–∫—É—Ä—É–∑–Ω—ã–µ –ø–∞–ª–æ—á–∫–∏",price:70.00},{name:"–ü–æ–ø–∫–æ—Ä–Ω —Å–ª–∞–¥–∫–∏–π",price:85.00},
{name:"–ó–µ—Ñ–∏—Ä",price:130.00},{name:"–ú–∞—Ä–º–µ–ª–∞–¥",price:110.00},{name:"–ü–∞—Å—Ç–∏–ª–∞",price:140.00},
{name:"–ö–∞—Ä–∞–º–µ–ª—å",price:60.00},{name:"–õ–µ–¥–µ–Ω—Ü—ã",price:50.00},{name:"–®–æ–∫–æ–ª–∞–¥ –º–æ–ª–æ—á–Ω—ã–π",price:100.00},
{name:"–®–æ–∫–æ–ª–∞–¥ –≥–æ—Ä—å–∫–∏–π",price:120.00},{name:"–®–æ–∫–æ–ª–∞–¥ —Å –æ—Ä–µ—Ö–∞–º–∏",price:130.00},{name:"–®–æ–∫–æ–ª–∞–¥ —Å –∏–∑—é–º–æ–º",price:125.00},
{name:"–®–æ–∫–æ–ª–∞–¥ –±–µ–ª—ã–π",price:115.00},{name:"–ü–ª–∏—Ç–∫–∞ —à–æ–∫–æ–ª–∞–¥–∞",price:95.00},{name:"–®–æ–∫–æ–ª–∞–¥–Ω—ã–µ –∫–æ–Ω—Ñ–µ—Ç—ã",price:220.00},
{name:"–ö–æ–Ω—Ñ–µ—Ç—ã –∫–∞—Ä–∞–º–µ–ª—å–Ω—ã–µ",price:180.00},{name:"–ö–æ–Ω—Ñ–µ—Ç—ã —Å –Ω–∞—á–∏–Ω–∫–æ–π",price:250.00},{name:"–ú–∞—Ä—Ü–∏–ø–∞–Ω",price:300.00},
{name:"–ü–∞—Å—Ç–∞ —à–æ–∫–æ–ª–∞–¥–Ω–∞—è",price:280.00},{name:"–ù—É—Ç–µ–ª–ª–∞",price:450.00},{name:"–î–∂–µ–º",price:180.00},
{name:"–í–∞—Ä–µ–Ω—å–µ",price:200.00},{name:"–ú—ë–¥ —Ü–≤–µ—Ç–æ—á–Ω—ã–π",price:420.00},{name:"–ú—ë–¥ –ª–∏–ø–æ–≤—ã–π",price:480.00},
{name:"–ú—ë–¥ –≥—Ä–µ—á–∏—à–Ω—ã–π",price:500.00},{name:"–°–∏—Ä–æ–ø —à–æ–∫–æ–ª–∞–¥–Ω—ã–π",price:160.00},{name:"–°–∏—Ä–æ–ø –∫–ª–µ–Ω–æ–≤—ã–π",price:350.00},
{name:"–°–∏—Ä–æ–ø —Ç–æ–ø–ª—ë–Ω—ã–π",price:220.00},{name:"–°–≥—É—â—ë–Ω–∫–∞ –≤–∞—Ä—ë–Ω–∞—è",price:150.00},{name:"–ú–æ–ª–æ–∫–æ —Å–≥—É—â—ë–Ω–Ω–æ–µ",price:130.00},
{name:"–°–ª–∏–≤–∫–∏ –≤–∑–±–∏—Ç—ã–µ",price:140.00},{name:"–ú–æ—Ä–æ–∂–µ–Ω–æ–µ –ø–ª–æ–º–±–∏—Ä",price:100.00},{name:"–ú–æ—Ä–æ–∂–µ–Ω–æ–µ —à–æ–∫–æ–ª–∞–¥–Ω–æ–µ",price:110.00},
{name:"–ú–æ—Ä–æ–∂–µ–Ω–æ–µ —Ñ—Ä—É–∫—Ç–æ–≤–æ–µ",price:95.00},{name:"–≠—Å–∫–∏–º–æ",price:80.00},{name:"–°—Ç–∞–∫–∞–Ω—á–∏–∫ –º–æ—Ä–æ–∂–µ–Ω–æ–≥–æ",price:70.00},
{name:"–ú–æ—Ä–æ–∂–µ–Ω–æ–µ —Ä–æ–∂–æ–∫",price:85.00},{name:"–ú–æ—Ä–æ–∂–µ–Ω–æ–µ –±—Ä–∏–∫–µ—Ç",price:220.00},{name:"–ú–æ—Ä–æ–∂–µ–Ω–æ–µ —Å–µ–º–µ–π–Ω–æ–µ",price:350.00},
{name:"–ô–æ–≥—É—Ä—Ç –ø–∏—Ç—å–µ–≤–æ–π",price:75.00},{name:"–ô–æ–≥—É—Ä—Ç —Å —Ñ—Ä—É–∫—Ç–∞–º–∏",price:85.00},{name:"–ô–æ–≥—É—Ä—Ç –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã–π",price:80.00},
{name:"–¢–≤–æ—Ä–æ–≥ 5%",price:160.00},{name:"–¢–≤–æ—Ä–æ–≥ 9%",price:170.00},{name:"–¢–≤–æ—Ä–æ–≥ 18%",price:190.00},
{name:"–°—ã—Ä–Ω–∏–∫–∏",price:180.00},{name:"–í–∞—Ç—Ä—É—à–∫–∏",price:120.00},{name:"–ë–ª–∏–Ω—ã",price:100.00},
{name:"–û–ª–∞–¥—å–∏",price:90.00},{name:"–ü–∏—Ä–æ–≥–∏",price:200.00},{name:"–ü–∏—Ä–æ–∂–∫–∏",price:40.00},
{name:"–ß–µ–±—É—Ä–µ–∫–∏",price:60.00},{name:"–°–∞–º—Å–∞",price:70.00},{name:"–•–∞—á–∞–ø—É—Ä–∏",price:150.00},
{name:"–ü–∏—Ü—Ü–∞ –∑–∞–º–æ—Ä–æ–∂–µ–Ω–Ω–∞—è",price:350.00},{name:"–ü–µ–ª—å–º–µ–Ω–∏ –∑–∞–º–æ—Ä–æ–∂–µ–Ω–Ω—ã–µ",price:220.00},{name:"–û–≤–æ—â–∏ –∑–∞–º–æ—Ä–æ–∂–µ–Ω–Ω—ã–µ",price:180.00},
{name:"–Ø–≥–æ–¥—ã –∑–∞–º–æ—Ä–æ–∂–µ–Ω–Ω—ã–µ",price:300.00},{name:"–ú—è—Å–æ –∑–∞–º–æ—Ä–æ–∂–µ–Ω–Ω–æ–µ",price:450.00},{name:"–†—ã–±–∞ –∑–∞–º–æ—Ä–æ–∂–µ–Ω–Ω–∞—è",price:380.00},
{name:"–ö—Ä–µ–≤–µ—Ç–∫–∏",price:850.00},{name:"–ö–∞–ª—å–º–∞—Ä—ã",price:650.00},{name:"–ú–∏–¥–∏–∏",price:550.00},
{name:"–ò–∫—Ä–∞ –∫—Ä–∞—Å–Ω–∞—è",price:2500.00},{name:"–ò–∫—Ä–∞ —á—ë—Ä–Ω–∞—è",price:8000.00},{name:"–†—ã–±–∞ —Å–æ–ª—ë–Ω–∞—è",price:400.00},
{name:"–†—ã–±–∞ –∫–æ–ø—á—ë–Ω–∞—è",price:550.00},{name:"–°–µ–ª—ë–¥–∫–∞",price:220.00},{name:"–°–∫—É–º–±—Ä–∏—è",price:280.00},
{name:"–õ–æ—Å–æ—Å—å",price:950.00},{name:"–¢—É–Ω–µ—Ü",price:650.00},{name:"–ú–∏–Ω—Ç–∞–π",price:320.00},
{name:"–•–µ–∫",price:280.00},{name:"–ü–∞–ª—Ç—É—Å",price:750.00},{name:"–ö–∞–º–±–∞–ª–∞",price:420.00},
{name:"–û–∫—É–Ω—å",price:350.00},{name:"–©—É–∫–∞",price:380.00},{name:"–°—É–¥–∞–∫",price:400.00},
{name:"–ö–∞—Ä–ø",price:300.00},{name:"–°–æ–º",price:450.00},{name:"–û—Å—ë—Ç—Ä",price:1200.00},
{name:"–£–≥–æ—Ä—å",price:850.00},{name:"–ú–æ—Ä—Å–∫–æ–π –æ–∫—É–Ω—å",price:600.00},{name:"–î–æ—Ä–∞–¥–∞",price:700.00},
{name:"–õ—É–∫–∞—Å",price:550.00},{name:"–ë–∞—Ä–∞–Ω–∏–Ω–∞",price:650.00},{name:"–ì–æ–≤—è–¥–∏–Ω–∞",price:750.00},
{name:"–°–≤–∏–Ω–∏–Ω–∞",price:550.00},{name:"–ö—É—Ä–∏—Ü–∞",price:220.00},{name:"–ò–Ω–¥–µ–π–∫–∞",price:450.00},
{name:"–£—Ç–∫–∞",price:550.00},{name:"–ì—É—Å—å",price:850.00},{name:"–ö—Ä–æ–ª–∏–∫",price:650.00},
{name:"–ü–µ—Ä–µ–ø—ë–ª–∫–∞",price:350.00},{name:"–ö–æ–ª–±–∞—Å–∫–∏",price:280.00},{name:"–°–æ—Å–∏—Å–∫–∏ –º–æ–ª–æ—á–Ω—ã–µ",price:180.00},
{name:"–°–∞—Ä–¥–µ–ª—å–∫–∏",price:220.00},{name:"–ü–∞—à—Ç–µ—Ç –ø–µ—á—ë–Ω–æ—á–Ω—ã–π",price:160.00},{name:"–ü–∞—à—Ç–µ—Ç –º—è—Å–Ω–æ–π",price:190.00},
{name:"–ö–æ–Ω—Å–µ—Ä–≤—ã —Ä—ã–±–Ω—ã–µ",price:180.00},{name:"–ö–æ–Ω—Å–µ—Ä–≤—ã –º—è—Å–Ω—ã–µ",price:220.00},{name:"–¢—É—à—ë–Ω–∫–∞",price:250.00},
{name:"–ì—Ä–µ—á–Ω–µ–≤–∞—è –∫–∞—à–∞",price:90.00},{name:"–û–≤—Å—è–Ω–∞—è –∫–∞—à–∞",price:85.00},{name:"–ú–∞–Ω–Ω–∞—è –∫–∞—à–∞",price:70.00},
{name:"–†–∏—Å–æ–≤–∞—è –∫–∞—à–∞",price:95.00},{name:"–ü—à—ë–Ω–Ω–∞—è –∫–∞—à–∞",price:80.00},{name:"–ö—É–∫—É—Ä—É–∑–Ω–∞—è –∫–∞—à–∞",price:100.00},
{name:"–ú–æ–ª–æ—á–Ω–∞—è –∫–∞—à–∞",price:110.00},{name:"–ö–∞—à–∞ –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è",price:65.00},{name:"–•–ª–æ–ø—å—è",price:120.00},
{name:"–ú—é—Å–ª–∏ —Å —Ñ—Ä—É–∫—Ç–∞–º–∏",price:240.00},{name:"–ú—é—Å–ª–∏ —Å –æ—Ä–µ—Ö–∞–º–∏",price:260.00},{name:"–ë–∞—Ç–æ–Ω—á–∏–∫–∏ –ø—Ä–æ—Ç–µ–∏–Ω–æ–≤—ã–µ",price:130.00},
{name:"–ë–∞—Ç–æ–Ω—á–∏–∫–∏ —ç–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∏–µ",price:110.00},{name:"–ñ–µ–ª–µ –±—ã—Å—Ç—Ä–æ—Ä–∞—Å—Ç–≤–æ—Ä–∏–º–æ–µ",price:75.00},{name:"–ö–∏—Å–µ–ª—å –±—ã—Å—Ç—Ä–æ—Ä–∞—Å—Ç–≤–æ—Ä–∏–º—ã–π",price:70.00},
{name:"–°—É–ø—ã –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è",price:85.00},{name:"–õ–∞–ø—à–∞ –¥–æ—à–∏—Ä–∞–∫",price:60.00},{name:"–ü—é—Ä–µ –∫–∞—Ä—Ç–æ—Ñ–µ–ª—å–Ω–æ–µ",price:90.00},
{name:"–ü—é—Ä–µ –æ–≤–æ—â–Ω–æ–µ",price:100.00},{name:"–ü—é—Ä–µ —Ñ—Ä—É–∫—Ç–æ–≤–æ–µ",price:110.00},{name:"–ö–æ–º–ø–æ—Ç —Å—É—Ö–æ–π",price:80.00},
{name:"–ö–∏—Å–µ–ª—å —Å—É—Ö–æ–π",price:75.00},{name:"–ö–æ—Ñ–µ –∑–µ—Ä–Ω–æ–≤–æ–π",price:650.00},{name:"–ö–æ—Ñ–µ –º–æ–ª–æ—Ç—ã–π",price:450.00},
{name:"–ö–æ—Ñ–µ —Ä–∞—Å—Ç–≤–æ—Ä–∏–º—ã–π –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π",price:320.00},{name:"–ö–æ—Ñ–µ 3 –≤ 1",price:220.00},{name:"–ö–∞–∫–∞–æ-–ø–æ—Ä–æ—à–æ–∫",price:280.00},
{name:"–ß–∞–π –∑–µ–ª—ë–Ω—ã–π",price:180.00},{name:"–ß–∞–π —Ç—Ä–∞–≤—è–Ω–æ–π",price:160.00},{name:"–ß–∞–π —Ñ—Ä—É–∫—Ç–æ–≤—ã–π",price:170.00},
{name:"–ß–∞–π —Å –ª–∏–º–æ–Ω–æ–º",price:150.00},{name:"–ß–∞–π —Å –º—è—Ç–æ–π",price:155.00},{name:"–ß–∞–π —Å –∂–∞—Å–º–∏–Ω–æ–º",price:190.00},
{name:"–ú–∞—Ç—á–∞",price:850.00},{name:"–≠—Å–ø—Ä–µ—Å—Å–æ",price:400.00},{name:"–ö–∞–ø—É—á–∏–Ω–æ",price:350.00},
{name:"–õ–∞—Ç—Ç–µ",price:320.00},{name:"–ê–º–µ—Ä–∏–∫–∞–Ω–æ",price:300.00},{name:"–†–∞—Ñ",price:380.00},
{name:"–ú–æ–ª–æ–∫–æ –∫–æ–∫–æ—Å–æ–≤–æ–µ",price:220.00},{name:"–ú–æ–ª–æ–∫–æ –º–∏–Ω–¥–∞–ª—å–Ω–æ–µ",price:280.00},{name:"–ú–æ–ª–æ–∫–æ –æ–≤—Å—è–Ω–æ–µ",price:250.00},
{name:"–ú–æ–ª–æ–∫–æ —Å–æ–µ–≤–æ–µ",price:200.00},{name:"–ô–æ–≥—É—Ä—Ç –∫–æ–∫–æ—Å–æ–≤—ã–π",price:180.00},{name:"–ô–æ–≥—É—Ä—Ç –º–∏–Ω–¥–∞–ª—å–Ω—ã–π",price:190.00},
{name:"–°—ã—Ä —Ç–æ—Ñ—É",price:220.00},{name:"–¢–µ–º–ø–µ",price:280.00},{name:"–°–µ–π—Ç–∞–Ω",price:320.00},
{name:"–ö–≤–∞—à–µ–Ω–∞—è –∫–∞–ø—É—Å—Ç–∞",price:120.00},{name:"–ú–∞—Ä–∏–Ω–æ–≤–∞–Ω–Ω—ã–µ –æ–≥—É—Ä—Ü—ã",price:110.00},{name:"–ü–æ–º–∏–¥–æ—Ä—ã —Å–æ–ª—ë–Ω—ã–µ",price:130.00},
{name:"–ì—Ä–∏–±—ã –º–∞—Ä–∏–Ω–æ–≤–∞–Ω–Ω—ã–µ",price:180.00},{name:"–û–ª–∏–≤–∫–∏",price:220.00},{name:"–ú–∞—Å–ª–∏–Ω—ã",price:200.00},
{name:"–ê–Ω—á–æ—É—Å—ã",price:350.00},{name:"–ö–∞–ø–µ—Ä—Å—ã",price:280.00},{name:"–ì–æ—Ä—á–∏—Ü–∞",price:90.00},
{name:"–•—Ä–µ–Ω",price:85.00},{name:"–ê–¥–∂–∏–∫–∞",price:120.00},{name:"–¢–∫–µ–º–∞–ª–∏",price:130.00},
{name:"–°–æ—É—Å –±–∞—Ä–±–µ–∫—é",price:150.00},{name:"–°–æ—É—Å —Ç–µ—Ä–∏—è–∫–∏",price:180.00},{name:"–°–æ—É—Å —É—Å—Ç—Ä–∏—á–Ω—ã–π",price:220.00},
{name:"–°–æ—É—Å —Å–æ–µ–≤—ã–π",price:140.00},{name:"–°–æ—É—Å —á–∏–ª–∏",price:130.00},{name:"–°–æ—É—Å –ø–µ—Å—Ç–æ",price:250.00},
{name:"–°–æ—É—Å –∞–ª—å—Ñ—Ä–µ–¥–æ",price:280.00},{name:"–°–æ—É—Å –±–æ–ª–æ–Ω—å–µ–∑–µ",price:220.00},{name:"–°–æ—É—Å –∫–∞—Ä–±–æ–Ω–∞—Ä–∞",price:240.00},
{name:"–ú–∞–∫–∞—Ä–æ–Ω—ã —Å–ø–∞–≥–µ—Ç—Ç–∏",price:85.00},{name:"–ú–∞–∫–∞—Ä–æ–Ω—ã –ø–µ–Ω–Ω–µ",price:90.00},{name:"–ú–∞–∫–∞—Ä–æ–Ω—ã —Ñ—É–∑–∏–ª–ª–∏",price:95.00},
{name:"–ú–∞–∫–∞—Ä–æ–Ω—ã –ª–∏–Ω–≥–≤–∏–Ω–∏",price:100.00},{name:"–õ–∞–∑–∞–Ω—å—è",price:180.00},{name:"–†–∞–≤–∏–æ–ª–∏",price:220.00},
{name:"–ìnocchi",price:250.00},{name:"–†–∏—Å –±–∞—Å–º–∞—Ç–∏",price:150.00},{name:"–†–∏—Å –∂–∞—Å–º–∏–Ω",price:160.00},
{name:"–†–∏—Å –∫—Ä—É–≥–ª—ã–π",price:100.00},{name:"–†–∏—Å –¥–ª–∏–Ω–Ω–æ–∑—ë—Ä–Ω—ã–π",price:110.00},{name:"–ö–∏–Ω–æ–∞",price:350.00},
{name:"–ë—É–ª–≥—É—Ä",price:220.00},{name:"–ö—É—Å–∫—É—Å",price:180.00},{name:"–§–∞—Ä—Ä–æ",price:300.00},
{name:"–ê–º–∞—Ä–∞–Ω—Ç",price:320.00},{name:"–¢—Ä–∏—Ç–∏–∫–∞–ª–µ",price:280.00},{name:"–ü–æ–ª–±–∞",price:260.00},
{name:"–°–ø–µ–ª—å—Ç–∞",price:270.00},{name:"–ö–∞–º—É—Ç",price:290.00},{name:"–§–æ–Ω–¥—é",price:550.00},
{name:"–†–∞–∫–ª–µ—Ç",price:650.00},{name:"–ë—Ä–∏",price:450.00},{name:"–ö–∞–º–∞–º–±–µ—Ä",price:420.00},
{name:"–†–æ–∫—Ñ–æ—Ä",price:580.00},{name:"–î–æ—Ä–±–ª—é",price:520.00},{name:"–ì–æ—Ä–≥–æ–Ω–∑–æ–ª–∞",price:500.00},
{name:"–ú–æ—Ü–∞—Ä–µ–ª–ª–∞ –¥–∏ –±—É—Ñ—Ñ–∞–ª–ª–∞",price:750.00},{name:"–ë—É—Ä—Ä–∞—Ç–∞",price:850.00},{name:"–†–∏–∫–æ—Ç—Ç–∞",price:320.00},
{name:"–ú–∞—Å–∫–∞—Ä–ø–æ–Ω–µ",price:450.00},{name:"–§–∏–ª–∞–¥–µ–ª—å—Ñ–∏—è",price:380.00},{name:"–•–∞–ª—É–º–∏",price:420.00},
{name:"–§–µ—Ç–∞–∫—Å–∞",price:380.00},{name:"–ú–∞–Ω—á–µ–≥–æ",price:550.00},{name:"–ì—Ä—é–π–µ—Ä",price:600.00},
{name:"–≠–º–º–µ–Ω—Ç–∞–ª—å",price:520.00},{name:"–ß–µ–¥–¥–µ—Ä",price:480.00},{name:"–ü–µ–∫–æ—Ä–∏–Ω–æ",price:500.00},
{name:"–ü–∞—Ä–º–µ–∑–∞–Ω –≤—ã–¥–µ—Ä–∂–∞–Ω–Ω—ã–π",price:750.00},{name:"–°—ã—Ä —Å —Ç—Ä—é—Ñ–µ–ª–µ–º",price:1200.00},{name:"–°—ã—Ä —Å –∑–µ–ª–µ–Ω—å—é",price:320.00},
{name:"–°—ã—Ä —Å –ø–µ—Ä—Ü–µ–º",price:300.00},{name:"–°—ã—Ä —Å —á–µ—Å–Ω–æ–∫–æ–º",price:280.00},{name:"–°—ã—Ä —Å –≥—Ä–∏–±–∞–º–∏",price:350.00},
{name:"–°—ã—Ä —Å –≤–∏–Ω–æ–≥—Ä–∞–¥–æ–º",price:400.00},{name:"–°—ã—Ä —Å –º—ë–¥–æ–º",price:420.00},{name:"–°—ã—Ä —Å –æ—Ä–µ—Ö–∞–º–∏",price:450.00},
{name:"–°—ã—Ä —Å —è–≥–æ–¥–∞–º–∏",price:480.00},{name:"–°—ã—Ä —Å —Ç—Ä—é—Ñ–µ–ª—å–Ω—ã–º –º–∞—Å–ª–æ–º",price:950.00},{name:"–°—ã—Ä —Å –±–µ–ª—ã–º —Ç—Ä—é—Ñ–µ–ª–µ–º",price:1500.00},
{name:"–°—ã—Ä —Å —á—ë—Ä–Ω—ã–º —Ç—Ä—é—Ñ–µ–ª–µ–º",price:1800.00},{name:"–°—ã—Ä —Å —Ç—Ä—é—Ñ–µ–ª—å–Ω–æ–π –ø–∞—Å—Ç–æ–π",price:1200.00}
];

for (let i = 0; i < 200; i++) {
  PRODUCTS.push({ name: `–¢–æ–≤–∞—Ä ${i + 801}`, price: parseFloat((50 + Math.random() * 950).toFixed(2)) });
}

// ~~~~~~~~~~~~~~~~~~~~~ FIREBASE ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
const firebaseConfig = { databaseURL: DATABASE_URL };
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

// ~~~~~~~~~~~~~~~~~~~~~ –ì–õ–û–ë–ê–õ–¨–ù–´–ï ~~~~~~~~~~~~~~~~~~~~~~~~~~~
let cart = [];
let loyaltyUser = null;
let firstScanDone = false;

// ~~~~~~~~~~~~~~~~~~~~~ –£–¢–ò–õ–ò–¢–´ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
function generateEAN13() {
  const prefix = '200';
  const random = Math.floor(Math.random() * 1e9).toString().padStart(9, '0');
  const base = prefix + random;
  let sum = 0;
  for (let i = 0; i < 12; i++) {
    const d = parseInt(base[i], 10);
    sum += d * (i % 2 === 0 ? 1 : 3);
  }
  const check = (10 - (sum % 10)) % 10;
  return base + check;
}

function showScreen(id) {
  document.querySelectorAll('[id^="screen-"]').forEach(el => el.classList.add('hidden'));
  document.getElementById(id).classList.remove('hidden');
}

function calculateChange(cash, total) {
  return parseFloat((cash - total).toFixed(2));
}

// ~~~~~~~~~~~~~~~~~~~~~ FIREBASE ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
async function addProductToDB(product, barcode) {
  await db.ref('products/' + barcode).set({ name: product.name, price: product.price, used: false });
}

async function getProductByBarcode(barcode) {
  const snap = await db.ref('products/' + barcode).once('value');
  return snap.exists() ? { barcode, ...snap.val() } : null;
}

async function markAsUsed(barcode) {
  await db.ref('products/' + barcode).update({ used: true });
}

async function saveReceipt(receipt) {
  await db.ref('receipts').push(receipt);
}

async function getReceipts() {
  const snap = await db.ref('receipts').once('value');
  return snap.val() ? Object.values(snap.val()) : [];
}

async function getOrCreateLoyaltyUser(phone, fio = null, fav = null) {
  const cleanPhone = phone.replace(/\D/g, '');
  const userRef = db.ref('loyalty/' + cleanPhone);
  const snap = await userRef.once('value');
  if (snap.exists()) return { phone: cleanPhone, ...snap.val() };
  const newUser = { phone: cleanPhone, fio, fav, bonus: 0 };
  await userRef.set(newUser);
  return newUser;
}

async function addBonus(phone, amount) {
  const cleanPhone = phone.replace(/\D/g, '');
  const userRef = db.ref('loyalty/' + cleanPhone);
  const snap = await userRef.once('value');
  if (snap.exists()) {
    const current = snap.val().bonus || 0;
    await userRef.update({ bonus: current + amount });
  }
}

async function useBonus(phone, amount) {
  const cleanPhone = phone.replace(/\D/g, '');
  const userRef = db.ref('loyalty/' + cleanPhone);
  const snap = await userRef.once('value');
  if (snap.exists()) {
    const current = snap.val().bonus || 0;
    if (current >= amount) {
      await userRef.update({ bonus: current - amount });
      return true;
    }
  }
  return false;
}

// ~~~~~~~~~~~~~~~~~~~~~ –û–ë–†–ê–ë–û–¢–ö–ê –®–¢–†–ò–•–ö–û–î–ê ~~~~~~~~~~~~~~~~~~
async function handleBarcode(rawInput, targetDivId) {
  let clean = rawInput.replace(/\D/g, '');
  if (clean.length > 13) clean = clean.slice(-13);
  if (clean.length !== 13) return;

  const prod = await getProductByBarcode(clean);
  const itemsDiv = document.getElementById(targetDivId);
  if (!prod) return;
  if (prod.used) return;

  await markAsUsed(clean);
  cart.push({ ...prod, quantity: 1 });

  const div = document.createElement('div');
  div.textContent = `‚úÖ ${prod.name}`;
  itemsDiv.appendChild(div);

  if (!firstScanDone) {
    firstScanDone = true;
    setTimeout(() => showScreen('screen-loyalty'), 300);
  }
}

// ~~~~~~~~~~~~~~~~~~~~~ –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ~~~~~~~~~~~~~~~~~~~~~~~~
document.getElementById('loginForm').addEventListener('submit', e => {
  e.preventDefault();
  if (document.getElementById('password').value === ACCESS_PASSWORD) {
    localStorage.setItem('auth', 'true');
    showScreen('screen-dashboard');
  } else {
    alert('–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å!');
  }
});

document.getElementById('btn-logout').addEventListener('click', () => {
  localStorage.removeItem('auth');
  showScreen('screen-login');
  cart = []; loyaltyUser = null; firstScanDone = false;
});

// ~~~~~~~~~~~~~~~~~~~~~ –£–ü–†–ê–í–õ–ï–ù–ò–ï –ö–õ–ê–í–ò–ê–¢–£–†–û–ô ~~~~~~~~~~~~~~~
document.addEventListener('keydown', async (e) => {
  if (!document.getElementById('screen-login').classList.contains('hidden')) return;

  // –û—Ç–º–µ–Ω—è–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é –Ω–∞ Ctrl)
  if (e.ctrlKey || e.shiftKey || e.key === 'F2') {
    e.preventDefault();
  }

  // Shift ‚Üí —Ä—É—á–Ω–æ–π –≤–≤–æ–¥
  if (e.shiftKey && !e.ctrlKey && !e.altKey && !e.metaKey) {
    cart = []; firstScanDone = false;
    document.getElementById('manual-items').innerHTML = '';
    showScreen('screen-manual');
    document.getElementById('manual-input').focus();
    return;
  }

  // Ctrl ‚Üí —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
  if (e.ctrlKey && !e.shiftKey && !e.altKey && !e.metaKey) {
    cart = []; firstScanDone = false;
    document.getElementById('scanned-items').innerHTML = '';
    showScreen('screen-scan');
    setTimeout(() => document.getElementById('hidden-input').focus(), 100);
    return;
  }

  // F2 ‚Üí –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —à—Ç—Ä–∏—Ö–∫–æ–¥–∞
  if (e.key === 'F2') {
    const list = document.getElementById('product-list');
    list.innerHTML = '';
    PRODUCTS.slice(0, 50).forEach(p => {
      const btn = document.createElement('button');
      btn.textContent = `${p.name} ‚Äî ${p.price} ‚ÇΩ`;
      btn.onclick = async () => {
        const barcode = generateEAN13();
        await addProductToDB(p, barcode);
        JsBarcode("#barcode-svg", barcode, { format: "EAN13", height: 80 });
        document.getElementById('barcode-text').textContent = barcode;
        document.getElementById('generated-barcode').classList.remove('hidden');
      };
      list.appendChild(btn);
    });
    showScreen('screen-generate');
    return;
  }
});

// ~~~~~~~~~~~~~~~~~~~~~ –°–ö–ê–ù–ò–†–û–í–ê–ù–ò–ï (–ê–í–¢–û) ~~~~~~~~~~~~~~~~~~
document.getElementById('hidden-input').addEventListener('keydown', async (e) => {
  if (e.key === 'Enter') {
    e.preventDefault();
    const value = e.target.value.trim();
    e.target.value = '';
    if (value) await handleBarcode(value, 'scanned-items');
  }
});

// ~~~~~~~~~~~~~~~~~~~~~ –†–£–ß–ù–û–ô –í–í–û–î ~~~~~~~~~~~~~~~~~~~~~~~~~~
document.getElementById('btn-add-manual').addEventListener('click', async () => {
  const value = document.getElementById('manual-input').value.trim();
  if (value) {
    document.getElementById('manual-input').value = '';
    await handleBarcode(value, 'manual-items');
  }
});

// ~~~~~~~~~~~~~~~~~~~~~ –õ–û–Ø–õ–¨–ù–û–°–¢–¨ ~~~~~~~~~~~~~~~~~~~~~~~~~~~
// ... (–æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π ‚Äî –ª–æ—è–ª—å–Ω–æ—Å—Ç—å, –æ–ø–ª–∞—Ç–∞, –∞—Ä—Ö–∏–≤ –∏ —Ç.–¥.) ...

// [–û—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ (–ª–æ—è–ª—å–Ω–æ—Å—Ç—å, –æ–ø–ª–∞—Ç–∞, –∞—Ä—Ö–∏–≤, —á–µ–∫) –æ—Å—Ç–∞–ª—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π ‚Äî –æ–Ω —É–∂–µ –±—ã–ª –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏]
// –î–ª—è –∫—Ä–∞—Ç–∫–æ—Å—Ç–∏ –Ω–µ –ø–æ–≤—Ç–æ—Ä—è—é, –Ω–æ –≤ –ø–æ–ª–Ω–æ–º —Ñ–∞–π–ª–µ –æ–Ω –µ—Å—Ç—å.

// ~~~~~~~~~~~~~~~~~~~~~ –ó–ê–ü–£–°–ö ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
window.onload = () => {
  if (localStorage.getItem('auth') === 'true') {
    showScreen('screen-dashboard');
  } else {
    showScreen('screen-login');
  }
};
</script>
</body>
</html>
